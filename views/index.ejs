<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="/assets/css/main.css">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <script src="/assets/js/jquery.js" charset="utf-8"></script>
    </head>
    <body>

        <div id="background">
            <!-- <img src="" width="15" id="icon1"> -->
        </div>

        <div class="joinForm w3-card-4 w3-white w3-round-large w3-center w3-animate-zoom">
            <input type="text" class="joinInput w3-input w3-border" id="roomName" placeholder="Room to join...">

            <button type="button" class="joinBtn w3-button w3-wide w3-teal w3-block" onclick="redirect()">JOIN</button>

            <p><i>or</i></p>

            <button type="button" class="joinLastBtn w3-button w3-wide w3-teal w3-block" onclick="redirectLast()">JOIN LAST ROOM</button>
        </div>

        <script type="text/javascript">

            const dir = "/room/"

            function redirect() {
                window.location.replace(dir + document.getElementById("roomName").value);
            }

            function getCookie(name) {
                let cookies = decodeURIComponent(document.cookie).split('; ');

                for (let cookie of cookies) {
                    let values = cookie.split('=');

                    if (values[0] == name) return values[1];
                }

                return -1;
            }

            function redirectLast() {
                let name = getCookie('last');
                window.location.replace(dir + (name === -1 ? "random" : name));
            }

        </script>
        <script src="/assets/js/iconAnimation.js" charset="utf-8"></script>

    </body>
</html>
